<!-- remove all "dark:" -->

@extends('layouts.app') @section('content')
<div class="container mx-auto px-4 py-12 max-w-6xl">
    <div
        class="flex flex-col md:flex-row md:items-end justify-between mb-12 gap-6"
    >
        <div>
            <nav
                class="flex items-center gap-2 text-sm font-bold text-text-400 uppercase tracking-widest mb-4"
            >
                <a
                    href="{{ route('welcome') }}"
                    class="hover:text-primary-600 transition-colors"
                    >{{ __('Shop') }}</a
                >
                <svg
                    class="w-4 h-4"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                >
                    <path d="M9 5l7 7-7 7" stroke-width="3" />
                </svg>
                <span class="text-text-50">{{ __('Cart') }}</span>
            </nav>
            <h1
                class="text-5xl font-black text-text-950 tracking-tighter italic"
            >
                {{ __('Your Cart') }}<span class="text-primary-600">.</span>
            </h1>
        </div>
        <div
            class="bg-background-100 px-6 py-3 rounded-2xl border border-background-200"
        >
            <p class="text-text-600 font-bold">
                {{ __('Subtotal') }}:
                <span class="text-text-950 text-xl ml-2"
                    >${{ number_format($total, 2) }}</span
                >
            </p>
        </div>
    </div>

    @if($cartItems->count() > 0)
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 items-start">
        <div class="lg:col-span-8 space-y-6">
            @foreach($cartItems as $item)
            <div
                class="group bg-white border border-background-200 rounded-[2rem] p-5 md:p-8 shadow-sm hover:shadow-xl transition-all duration-500 flex flex-col md:flex-row items-center gap-8 relative overflow-hidden"
            >
                @if($item->product->image)
                <div class="w-full md:w-32 h-40 md:h-32 flex-shrink-0 relative">
                    <img
                        src="{{ Storage::url($item->product->image) }}"
                        alt="{{ $item->product->name }}"
                        class="w-full h-full object-cover rounded-2xl shadow-lg border border-background-100 group-hover:scale-105 transition-transform duration-500"
                    />
                </div>
                @endif

                <div class="flex-grow text-center md:text-left">
                    <div class="mb-2">
                        <span
                            class="text-[10px] font-black uppercase tracking-[0.2em] text-primary-600 bg-primary-50 px-3 py-1 rounded-full"
                        >
                            {{ $item->product->category ?? 'Premium Item' }}
                        </span>
                    </div>
                    <h3
                        class="text-2xl font-black text-text-950 group-hover:text-primary-600 transition-colors"
                    >
                        {{ $item->product->name }}
                    </h3>
                    <p class="text-text-500 text-sm mt-1 mb-4 line-clamp-2">
                        {{ $item->product->description }}
                    </p>
                    <div
                        class="flex items-center justify-center md:justify-start gap-4"
                    >
                        <span class="text-2xl font-black text-text-950 italic"
                            >${{ number_format($item->product->price, 2)
                            }}</span
                        >
                    </div>
                </div>

                <div
                    class="flex flex-row md:flex-col items-center gap-4 w-full md:w-auto pt-6 md:pt-0 border-t md:border-t-0 border-background-100"
                >
                    <form
                        action="{{ route('cart.update', $item) }}"
                        method="POST"
                        class="flex items-center bg-background-50 rounded-2xl border-2 border-background-100 p-1.5 focus-within:border-primary-500 transition-colors"
                    >
                        @csrf @method('PATCH')
                        <input
                            type="number"
                            name="quantity"
                            value="{{ $item->quantity }}"
                            min="1"
                            class="w-12 bg-transparent text-center font-black text-text-950 focus:outline-none border-none focus:ring-0"
                        />
                        <button
                            type="submit"
                            class="bg-primary-600 text-text-50 p-2.5 rounded-xl hover:bg-primary-700 hover:rotate-12 transition-all shadow-md"
                        >
                            <svg
                                class="w-4 h-4"
                                fill="none"
                                stroke="currentColor"
                                viewBox="0 0 24 24"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="3"
                                    d="M5 13l4 4L19 7"
                                ></path>
                            </svg>
                        </button>
                    </form>

                    <form
                        action="{{ route('cart.destroy', $item) }}"
                        method="POST"
                    >
                        @csrf @method('DELETE')
                        <button
                            type="submit"
                            class="group/del p-4 text-text-400 hover:text-accent-600 hover:bg-accent-50 rounded-2xl transition-all"
                        >
                            <svg
                                class="w-6 h-6 group-hover/del:scale-110 transition-transform"
                                fill="none"
                                stroke="currentColor"
                                viewBox="0 0 24 24"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"
                                ></path>
                            </svg>
                        </button>
                    </form>
                </div>
            </div>
            @endforeach
        </div>

        <div class="lg:col-span-4 lg:sticky lg:top-32">
            <div
                class="bg-background-950 rounded-[2.5rem] p-10 text-text-50 shadow-2xl relative overflow-hidden group"
            >
                <div
                    class="absolute -top-24 -right-24 w-64 h-64 bg-primary-600/20 rounded-full blur-[80px] group-hover:bg-primary-600/30 transition-colors duration-700"
                ></div>

                <h2 class="text-2xl font-black mb-10 relative">
                    {{ __('Summary') }}
                </h2>

                <div
                    class="space-y-6 relative border-b border-white/10 pb-10 mb-10"
                >
                    <div class="flex justify-between items-center opacity-70">
                        <span
                            class="font-bold uppercase tracking-widest text-xs"
                            >{{ __('Items Total') }}</span
                        >
                        <span class="font-black"
                            >${{ number_format($total, 2) }}</span
                        >
                    </div>
                    <div class="flex justify-between items-center">
                        <span
                            class="font-bold uppercase tracking-widest text-xs opacity-70"
                            >{{ __('Shipping') }}</span
                        >
                        <span class="font-black text-secondary-400"
                            >{{ __('FREE') }}</span
                        >
                    </div>
                </div>

                <div class="flex justify-between items-end mb-10 relative">
                    <div>
                        <p
                            class="text-[10px] font-black uppercase tracking-[0.3em] opacity-50 mb-1"
                        >
                            {{ __('Total Amount') }}
                        </p>
                        <p class="text-5xl font-black italic">
                            ${{ number_format($total, 2) }}
                        </p>
                    </div>
                </div>

                <a
                    href="{{ route('checkout.index') }}"
                    class="w-full flex justify-center items-center gap-4 bg-white text-background-950 py-5 rounded-2xl font-black text-lg hover:bg-primary-500 hover:text-text-50 transition-all hover:scale-[1.02] active:scale-95 shadow-xl shadow-black/20 group/btn"
                >
                    {{ __('Checkout Now') }}
                    <svg
                        class="w-6 h-6 group-hover/btn:translate-x-2 transition-transform"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="3"
                            d="M14 5l7 7m0 0l-7 7m7-7H3"
                        ></path>
                    </svg>
                </a>

                <div
                    class="mt-8 flex items-center justify-center gap-3 text-text-50/40 text-[10px] font-bold uppercase tracking-widest"
                >
                    <svg
                        class="w-4 h-4"
                        fill="currentColor"
                        viewBox="0 0 20 20"
                    >
                        <path
                            fill-rule="evenodd"
                            d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z"
                            clip-rule="evenodd"
                        ></path>
                    </svg>
                    {{ __('End-to-End Encryption') }}
                </div>
            </div>

            <a
                href="{{ route('welcome') }}"
                class="mt-6 flex items-center justify-center gap-2 text-text-500 font-bold hover:text-primary-600 transition-all text-sm group"
            >
                <svg
                    class="w-5 h-5 group-hover:-translate-x-1 transition-transform"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M15 19l-7-7 7-7"
                    />
                </svg>
                {{ __('Back to Gallery') }}
            </a>
        </div>
    </div>
    @else
    <div
        class="text-center py-32 bg-white border border-background-200 rounded-[3rem] shadow-sm relative overflow-hidden"
    >
        <div
            class="absolute inset-0 opacity-5 pointer-events-none bg-[radial-gradient(#4f46e5_1px,transparent_1px)] [background-size:20px_20px]"
        ></div>

        <div
            class="w-32 h-32 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-8 animate-bounce"
        >
            <svg
                class="w-16 h-16 text-primary-600"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="1.5"
                    d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"
                ></path>
            </svg>
        </div>
        <h2 class="text-4xl font-black text-text-950 mb-4 tracking-tight">
            {{ __('Your cart is lonely.') }}
        </h2>
        <p class="text-text-500 mb-12 max-w-sm mx-auto font-medium">
            {{ __('Explore unique workspace setups and start building your dream
            desk today.') }}
        </p>
        <a
            href="{{ route('welcome') }}"
            class="inline-flex items-center gap-3 bg-primary-600 hover:bg-primary-700 text-text-50 px-10 py-4 rounded-2xl font-black shadow-xl shadow-primary-500/30 transition-all hover:-translate-y-1"
        >
            {{ __('Start Exploring') }}
            <svg
                class="w-5 h-5"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="3"
                    d="M17 8l4 4m0 0l-4 4m4-4H3"
                />
            </svg>
        </a>
    </div>
    @endif
</div>
@endsection
